import{I as _,T as w,S as C,B as O}from"./library-BxQRnb6v.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=a(t);fetch(t.href,s)}})();var b={exports:{}},m={};const N=React;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P=N,T=Symbol.for("react.element"),E=Symbol.for("react.fragment"),L=Object.prototype.hasOwnProperty,k=P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D={key:!0,ref:!0,__self:!0,__source:!0};function S(e,r,a){var n,t={},s=null,i=null;a!==void 0&&(s=""+a),r.key!==void 0&&(s=""+r.key),r.ref!==void 0&&(i=r.ref);for(n in r)L.call(r,n)&&!D.hasOwnProperty(n)&&(t[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps,r)t[n]===void 0&&(t[n]=r[n]);return{$$typeof:T,type:e,key:s,ref:i,props:t,_owner:k.current}}m.Fragment=E;m.jsx=S;m.jsxs=S;b.exports=m;var c=b.exports;const j=axios.create({timeout:1e3*60,withCredentials:!0,validateStatus:e=>e>=200&&e<400,baseURL:""});j.interceptors.request.use(e=>e,e=>Promise.reject(e));j.interceptors.response.use(e=>e,e=>Promise.reject(e));const g=e=>new Promise((r,a)=>{j(e).then(n=>{r(n.data)}).catch(n=>{a(n)})}),I={get:(e,r)=>g({method:"GET",url:e,...r}),post:(e,r,a)=>g({method:"POST",url:e,data:r,...a})};async function $({query:e="你好世界",from:r="auto",to:a="en",key:n="UHN5hjnYK5QYWEyQhzBPDsukxnVeLJ6P",appKey:t="60e4479f20e0a4d4",vocabId:s="用户词表ID"}){const i=l=>{const d=l.length;return d<=20?l:l.substring(0,10)+d+l.substring(d-10,d)},f=new Date().getTime(),u=Math.round(new Date().getTime()/1e3),p=`${t}${i(e)}${f}${u}${n}`,x=CryptoJS.SHA256(p).toString(CryptoJS.enc.Hex),h={q:e,appKey:t,salt:f,from:r,to:a,sign:x,signType:"v3",curtime:u,vocabId:s};try{return await I.post("/api",qs.stringify(h),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}catch(l){console.error("翻译出错:",l)}}const v=(e=6,r="u_")=>{const a="abcdefhijkmnprstwxyz0123456789",n=a.length;let t="";for(let s=0;s<e;s++)t+=a.charAt(Math.floor(Math.random()*n));return r+t},B=()=>{const[e,r]=React.useState("Hello World"),[a,n]=React.useState("en"),[t,s]=React.useState([]),[i,f]=React.useState([]),[u,p]=React.useState(),x=React.useCallback(()=>{$({query:e,to:a}).then(o=>{o&&o.errorCode==="0"&&(s((o==null?void 0:o.translation)||[]),f((o==null?void 0:o.web)||[]),p(o==null?void 0:o.basic))}).catch(o=>{console.error("翻译出错:",o)})},[e,a]),h=React.useCallback(()=>c.jsx("div",{className:"flex flex-col items-start justify-center mt-4",children:t.map((o,y)=>c.jsx("div",{className:"text-left",children:o},o+v(y)))}),[t]),l=React.useCallback(()=>c.jsx("div",{className:"flex flex-col items-start justify-center",children:i.map((o,y)=>c.jsxs("div",{className:"text-left mt-2",children:[o.key,"：",o.value.join("、")]},o.key+v(y)))}),[i]),d=React.useCallback(()=>c.jsx("div",{className:"text-center mt-4",children:u==null?void 0:u.explains.join("、")}),[u]);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-center w-full max-w-800 mx-auto space-x-6",children:[c.jsx(_,{className:"flex-grow",value:e,onChange:o=>r(o.target.value),style:{maxWidth:"600px"}}),c.jsx(w,{title:"目标语言",children:c.jsx(C,{defaultValue:"en",title:"目标语言",style:{width:120},onChange:n,options:[{value:"zh-CHS",label:"简体中文"},{value:"zh-CHT",label:"繁体中文"},{value:"en",label:"英文"}]})}),c.jsx(O,{onClick:x,type:"primary",children:"translate"})]}),h(),d(),l()]})},H=()=>c.jsx("div",{className:"flex flex-col items-center justify-center h-screen",children:c.jsx(B,{})}),R=document.getElementById("root");R&&ReactDOM.createRoot(R).render(c.jsx(React.StrictMode,{children:c.jsx(H,{})}));
